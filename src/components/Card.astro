---
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';

type Props = {
  class?: string;
  href?: string;
  title?: string;
  dtl?: string;
  // images
  srcPaths: string;
  alt?: string;
  load?: 'lazy' | 'eager';
  format?: 'webp' | 'avif';
};

const { title, href = '#', dtl, class: className, srcPaths, alt = '', load = 'lazy', format = 'webp' } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/images/*.{jpeg,jpg,png,gif}');
---

<li class:list={["c-card", className]}>
  <a href={href} class="c-card__inner">
    <div class="c-card__vis">
      <Picture 
        src={images[srcPaths]()}
        load={load}
        alt={alt}
        format={format}
      />
    </div>
    <div class="c-card__meta">
      <h2 class="c-card__name">
        {title}
      </h2>
      <p class="c-card__dtl">
        {dtl}
      </p>
    </div>
  </a>
</li>

<style lang="scss">
  
</style>